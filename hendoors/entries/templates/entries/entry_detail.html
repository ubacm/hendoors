{% extends 'base.html' %}
{% load static %}
{% block title %}{{ entry.name }}{% endblock %}

{% block content %}
  <p>
    <a href="{{ entry.categories.all.0.event.get_absolute_url }}">
      Back to {{ entry.categories.all.0.event }}
    </a>
  </p>
  <h1>
    {{ entry.name }}
    <span class="small_header">{{ entry.categories.all.0.event }}</span>
  </h1>

  <span class="label">Running for: </span>
  <div class="partial__category_pills">
    {% for category in entry.categories.all %}
    <div class="category">
      <a href="{{ category.get_absolute_url }}">{{ category }}</a>
    </div>
    {% empty %}
    <p><em>Uncategorized</em></p>
    {% endfor %}
  </div>
  <p>
    {% if entry.website %}
    <span class="label">Website</span>
    <a href="{{ entry.website }}">{{ entry.website }}</a>
    {% endif %}
    <br />
    {% if entry.repository %}
    <span class="label">Repository</span>
    <a href="{{ entry.repository }}">{{ entry.repository }}</a>
    {% endif %}
  </p>
  <div class="partial_entry_description">
    {{ entry.description }}
  </div>
  
  {% if entry.images.all %}
  <div class="label">Gallery</div>
  <div class="partial__gallery" id="gallery">
    {% for image in entry.images.all %}
    <a href="{{ image.image.url }}">
      <img src="{{ image.image.url }}" alt="{{ image.image.name }}">
    </a>
    {% endfor %}
  </div>
  {% endif %}
{% endblock %}

{% block script %}
<script src="{% static 'lightgallery/js/lightgallery.min.js' %}"></script>
<script>
  lightGallery(document.getElementById('gallery'), {
    thumbnail: true
  })
</script>
{% endblock %}
